# 飞机大战网页版游戏

一款基于HTML5 Canvas和JavaScript开发的2D纵向卷轴射击游戏，采用现代化的面向对象设计模式和完整的游戏系统架构。

## 🚀 游戏特色

### 核心玩法
- **经典2D射击**: 纵向卷轴射击，操控战机对抗敌军
- **多层武器系统**: 5级武器升级，从基础单发到激光武器
- **多样化敌机**: 6种不同类型敌机，各具特色和AI行为
- **Boss战系统**: 标准、快速、重型、终极四种Boss类型
- **僚机系统**: 可召唤辅助僚机协同作战
- **生命系统**: 每条命100血，支持多生命模式
- **护盾机制**: 临时无敌保护和伤害减免

### 敌机系统
- **侦察机**: 基础敌机，直线飞行，快速但脆弱
- **战斗机**: 中等血量，会发射子弹攻击玩家
- **重型机**: 高血量，缓慢移动，强大火力
- **精英机**: 特殊移动模式，高威胁度
- **拦截机**: 快速敏捷，追踪玩家位置
- **轰炸机**: 投掷范围伤害炸弹

### Boss战系统
- **标准Boss**: 均衡的攻防能力，多种攻击模式
- **快速Boss**: 高速移动，频繁攻击
- **重型Boss**: 超高血量，毁灭性攻击
- **终极Boss**: 最强Boss，拥有所有攻击技能

### 道具系统
- **武器升级**: 提升主武器威力等级
- **生命回复**: 恢复玩家血量
- **护盾强化**: 临时护盾保护
- **全屏炸弹**: 清除屏幕所有敌人
- **分数加成**: 双倍分数获取
- **僚机召唤**: 辅助战斗单位

### 视觉效果
- **粒子系统**: 爆炸、推进器、特效粒子
- **动态背景**: 三层星空滚动效果
- **屏幕震动**: 碰撞和爆炸震动反馈
- **浮动文字**: 分数、伤害、连击显示
- **现代UI**: 科幻风格的游戏界面

## 🎮 操作方式

### 键盘控制（主要）
- **WASD** 或 **方向键**: 移动战机
- **空格键**: 射击
- **ESC键** 或 **P键**: 暂停/继续游戏
- **B键**: 召唤Boss（调试功能）
- **V键**: 查看Boss状态信息
- **F12键**: 切换调试信息显示

### 鼠标控制（可选）
- **鼠标移动**: 控制战机位置
- **左键**: 射击
- 可在设置中切换控制方式

### 触摸控制
- 支持移动设备触摸操作
- 触摸移动控制战机
- 点击射击

## 🏗️ 技术架构

### 设计模式
- **单例模式**: 管理器类统一管理（InputManager、AudioManager、GameStateManager等）
- **对象池模式**: 优化内存使用，减少垃圾回收（ObjectPool、ObjectPoolManager）
- **状态模式**: 游戏状态管理（LOADING、MAIN_MENU、PLAYING、PAUSED、GAME_OVER）
- **工厂模式**: 游戏对象创建和管理
- **组件化设计**: 游戏对象基类和继承体系

### 核心系统架构
```
Game (主游戏类)
├── 管理器系统
│   ├── InputManager (输入管理)
│   ├── AudioManager (音频管理)
│   ├── ImageManager (图片资源管理)
│   ├── GameStateManager (状态管理)
│   ├── AchievementManager (成就管理)
│   └── ObjectPoolManager (对象池管理)
├── 游戏实体
│   ├── Player (玩家战机)
│   ├── Enemy (敌机系统)
│   ├── Boss (Boss系统)
│   ├── Bullet (子弹系统)
│   ├── PowerUp (道具系统)
│   └── Wingman (僚机系统)
├── 工具系统
│   ├── Vector2D (2D向量数学)
│   ├── ParticleSystem (粒子特效)
│   └── DebugCommands (调试命令系统)
└── 游戏循环
    ├── 更新逻辑 (update)
    ├── 碰撞检测 (checkCollisions)
    ├── 渲染系统 (render)
    └── 清理系统 (cleanup)
```

### 文件结构
```
├── index.html              # 主HTML文件
├── debug.html             # 调试页面（敌机测试）
├── css/
│   └── style.css          # 样式文件
├── images/                # 图片资源
│   ├── player.png         # 玩家战机
│   ├── player_damaged.png # 受损玩家战机
│   ├── enemy_scout.png    # 侦察机
│   ├── enemy_fighter.png  # 战斗机
│   ├── enemy_heavy.png    # 重型机
│   ├── enemy_elite.png    # 精英机
│   ├── enemy_interceptor.png # 拦截机
│   ├── enemy_bomber.png   # 轰炸机
│   ├── boss_standard.png  # 标准Boss
│   └── wingman.png        # 僚机
├── audio/                 # 音频资源（动态生成）
├── js/
│   ├── utils/             # 工具类
│   │   ├── Vector2D.js    # 2D向量类
│   │   ├── ObjectPool.js  # 对象池管理
│   │   └── ParticleSystem.js # 粒子系统
│   ├── core/              # 核心系统
│   │   ├── GameObject.js  # 游戏对象基类
│   │   ├── InputManager.js # 输入管理器
│   │   ├── AudioManager.js # 音频管理器
│   │   ├── AudioGenerator.js # 音频生成器
│   │   ├── ImageManager.js # 图片管理器
│   │   ├── GameStateManager.js # 状态管理器
│   │   └── AchievementManager.js # 成就管理器
│   ├── entities/          # 游戏实体
│   │   ├── Player.js      # 玩家类（1397行）
│   │   ├── Enemy.js       # 敌机类（1307行）
│   │   ├── Boss.js        # Boss类（1252行）
│   │   ├── Bullet.js      # 子弹类（1084行）
│   │   ├── PowerUp.js     # 道具类（711行）
│   │   └── Wingman.js     # 僚机类（339行）
│   ├── debug/             # 调试系统
│   │   └── DebugCommands.js # 调试命令
│   ├── Game.js            # 主游戏类（2524行）
│   └── main.js            # 入口文件（548行）
├── 图片替换说明.md        # 图片资源说明文档
├── Boss系统说明.md        # Boss系统设计说明
└── 敌机伤害系统设计说明.md  # 伤害系统说明
```

## 🛠️ 开发环境

### 系统要求
- 现代浏览器（Chrome 60+、Firefox 55+、Safari 12+、Edge 79+）
- 支持HTML5 Canvas和Web Audio API
- 支持ES6+语法特性
- 建议使用本地服务器运行

### 运行方式
1. **直接打开**: 双击`index.html`文件（部分功能可能受限）
2. **本地服务器**: 
   - 使用Live Server: `npx live-server`
   - Python服务器: `python -m http.server 8000`
   - Node.js服务器: `npx serve .`
3. **调试模式**: 打开`debug.html`进行敌机测试和调试

### 开发工具
- **F12键**: 切换调试信息显示
- **浏览器开发者工具**: 查看控制台日志和性能
- **Debug页面**: 敌机测试和图片替换验证
- **B键**: 游戏中召唤Boss测试
- **V键**: 查看Boss状态信息

## 🎨 游戏系统详解

### 武器系统
- **等级1**: 单发子弹，基础伤害
- **等级2**: 双发子弹，伤害提升
- **等级3**: 三发子弹，扇形射击
- **等级4**: 四发子弹，更宽射击角度
- **等级5**: 激光武器，持续伤害

### 敌机AI系统
- **直线型**: 简单直线飞行，基础威胁
- **追踪型**: 会跟踪玩家位置移动
- **曲线型**: S形或正弦波飞行路径
- **射击型**: 会向玩家发射子弹
- **投弹型**: 投掷范围伤害武器

### Boss攻击模式
- **直射模式**: 向玩家发射单发子弹
- **扇形射击**: 多角度同时射击
- **环形射击**: 360度全方位攻击
- **激光攻击**: 高伤害激光束
- **导弹攻击**: 追踪导弹攻击
- **冲击波**: 范围伤害攻击

### 碰撞检测系统
- **矩形碰撞**: 基础AABB碰撞检测
- **精确检测**: 像素级碰撞检测
- **碰撞分层**: 不同对象类型的碰撞规则
- **伤害计算**: 基于武器类型和敌机类型的伤害系统

## 🎵 音频系统

### 动态音频生成
采用Web Audio API动态生成游戏音效，无需外部音频文件：

- **射击音效**: 激光射击声音
- **爆炸音效**: 敌机和Boss爆炸声
- **道具音效**: 道具拾取提示音
- **背景音乐**: 动态生成的电子音乐
- **UI音效**: 菜单操作反馈音

### 音频管理
- **音量控制**: 独立的音效和音乐音量设置
- **音频池**: 复用音频对象，优化性能
- **自适应播放**: 根据游戏状态调整音频

## 🏆 成就系统

### 基础成就
- **首次击杀**: 击落第一架敌机
- **初出茅庐**: 获得1000分
- **小有名气**: 获得10000分
- **连击新手**: 达成10连击
- **武器升级**: 第一次武器升级

### 进阶成就
- **连击大师**: 连续击杀50架敌机
- **Boss终结者**: 击败一个Boss
- **收集达人**: 收集所有道具类型
- **生存专家**: 单局存活300秒
- **完美操作**: 无伤害完成一局

### 专家成就
- **传奇飞行员**: 获得100000分
- **武器大师**: 达到最高武器等级
- **Boss屠夫**: 击败所有类型的Boss
- **不死传说**: 连续无死亡击杀100敌机

## 📱 兼容性和性能

### 浏览器支持
- ✅ **Chrome 60+**: 完整功能支持
- ✅ **Firefox 55+**: 完整功能支持
- ✅ **Safari 12+**: 完整功能支持
- ✅ **Edge 79+**: 完整功能支持
- ⚠️ **移动浏览器**: 基础功能支持，性能可能受限

### 性能特性
- **对象池管理**: 减少内存分配和垃圾回收
- **帧率优化**: 目标60FPS，自适应渲染
- **碰撞优化**: 分层碰撞检测，避免不必要计算
- **资源管理**: 图片预加载和复用
- **内存管理**: 及时清理无效对象

### 技术要求
- ✅ **Canvas 2D**: 图形渲染
- ✅ **Web Audio API**: 音频生成和播放
- ✅ **localStorage**: 设置和分数保存
- ✅ **requestAnimationFrame**: 游戏循环
- ✅ **Touch Events**: 移动端支持
- ✅ **ES6+ Features**: 现代JavaScript语法

## 🔧 配置和自定义

### 游戏设置
- **生命数量**: 1-3条命可选
- **音效音量**: 0-100%调节
- **音乐音量**: 0-100%调节
- **控制方式**: 键盘/鼠标切换
- **调试模式**: 显示调试信息

### 开发者选项
- **调试显示**: FPS、对象数量、碰撞箱显示
- **Boss召唤**: B键快速召唤Boss测试
- **状态查看**: V键查看Boss详细信息
- **控制台日志**: 详细的游戏状态日志

## 🚀 部署说明

项目包含多个部署脚本，支持不同的部署方式：

- **setup-auth.bat**: 设置Git认证
- **deploy.ps1**: PowerShell部署脚本
- **gitee-deploy.bat**: Gitee平台部署
- **deploy-simple.bat**: 简化部署流程
- **一键部署.bat**: 一键部署到多个平台

详细部署说明请参考`deploy.md`文件。

## 📖 开发文档

- **图片替换说明.md**: 游戏图片资源的详细说明和规格要求
- **Boss系统说明.md**: Boss系统的设计原理和实现细节
- **敌机伤害系统设计说明.md**: 伤害系统的设计思路和平衡性

## 🔄 更新日志

### 当前版本特性
- ✅ 完整的敌机系统（6种类型）
- ✅ Boss战系统（4种Boss类型）
- ✅ 武器升级系统（5个等级）
- ✅ 僚机协同作战系统
- ✅ 道具和强化系统
- ✅ 成就和分数系统
- ✅ 完整的音频系统
- ✅ 调试和测试工具

### 已知问题
- 移动端性能优化待提升
- 部分音效在某些浏览器可能延迟
- 高分辨率屏幕可能出现渲染模糊

### 计划改进
- 更多Boss类型和攻击模式
- 多人合作模式
- 更丰富的道具系统
- 关卡系统和剧情模式

---

**开发团队**: 飞机大战开发组  
**技术栈**: HTML5 Canvas + JavaScript ES6+ + Web Audio API  
**开源协议**: MIT License 